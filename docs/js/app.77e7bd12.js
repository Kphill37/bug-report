(function(t){function e(e){for(var n,r,i=e[0],u=e[1],c=e[2],m=0,g=[];m<i.length;m++)r=i[m],a[r]&&g.push(a[r][0]),a[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(g.length)g.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,i=1;i<s.length;i++){var u=s[i];0!==a[u]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},a={app:0},o=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/'/bug-report/'/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("64a9"),a=s.n(n);a.a},"342b":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{attrs:{id:"nav"}},[s("router-link",{attrs:{to:"/"}},[t._v("Home")])],1),s("router-view")],1)},o=[],r=(s("034f"),s("2877")),i={},u=Object(r["a"])(i,a,o,!1,null,null,null),c=u.exports,l=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("h1",[t._v("Bug Report")]),s("buglist")],1)},g=[],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bug-list"},[t._m(0),s("ul",{staticClass:"list-group"},t._l(t.bugs,function(e){return s("li",{key:e._id,staticClass:"list-group-item list-group-flush"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-4"},[t._v("\n          "+t._s(e.creator)+"\n        ")]),s("div",{staticClass:"col-4"},[s("router-link",{attrs:{to:{name:"bugDetails",params:{id:e._id}}}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1),1==e.closed?s("div",{staticClass:"col-4 bugClosed"},[s("i",{staticClass:"fas fa-circle"},[t._v("Bug Squashed")])]):s("div",{staticClass:"col-4 bugOpen"},[s("i",{staticClass:"fas fa-circle"},[t._v("Pending Fix . . .")])])])])}),0),s("div",{staticClass:"bugSubmitForm"},[s("form",{staticClass:"submitBug",on:{submit:function(e){return e.preventDefault(),t.submitBug(t.bug)}}},[t._v("\n      User"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bug.creator,expression:"bug.creator"}],attrs:{type:"text",name:"name"},domProps:{value:t.bug.creator},on:{input:function(e){e.target.composing||t.$set(t.bug,"creator",e.target.value)}}}),t._v("\n      Title of Bug"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bug.title,expression:"bug.title"}],attrs:{type:"text",name:"name"},domProps:{value:t.bug.title},on:{input:function(e){e.target.composing||t.$set(t.bug,"title",e.target.value)}}}),t._v("\n      Description"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bug.description,expression:"bug.description"}],attrs:{type:"text",name:"Description"},domProps:{value:t.bug.description},on:{input:function(e){e.target.composing||t.$set(t.bug,"description",e.target.value)}}}),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(e){return t.submitBug(t.bug)}}},[t._v("Submit Bug")])])])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-4 author"},[t._v("\n      Author\n    ")]),s("div",{staticClass:"col-4"},[t._v("\n      Title\n    ")]),s("div",{staticClass:"col-4"},[t._v("\n      Status\n    ")])])}],b={name:"buglist",mounted(){this.$store.dispatch("clearBug"),this.$store.dispatch("getBugs")},data(){return{results:[],bug:{closed:!1,description:"",title:"",creator:"",closedDate:""}}},methods:{submitBug(t){console.log(t),this.$store.dispatch("submitBug",t),this.$store.dispatch("getBugs")}},computed:{bugs(){return this.$store.state.bugs}}},v=b,h=(s("c81e"),Object(r["a"])(v,d,p,!1,null,"38b98fb4",null)),f=h.exports,C={name:"home",components:{buglist:f}},_=C,y=Object(r["a"])(_,m,g,!1,null,null,null),$=y.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"DetailsPage"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("h1",[t._v("Bug Details")]),t.bug._id?s("div",{staticClass:"bugFound"},[s("div",{staticClass:"jumbotron"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"display-4",staticStyle:{color:"purple"}},[t._v("\n              Title:\n              "),s("span",{staticStyle:{color:"white"}},[t._v(t._s(t.bug.title))])]),s("h2",{staticStyle:{color:"purple"}},[t._v("\n              Created By:\n              "),s("span",{staticStyle:{color:"white"}},[t._v(t._s(t.bug.creator))])]),s("p",{staticClass:"lead",staticStyle:{color:"lightblue"}},[t._v("\n              Created on:\n              "+t._s(new Date(t.bug.createdAt).toLocaleDateString("en-US",{weekday:"long",year:"numeric",day:"numeric",month:"long"}))+"\n            ")]),s("p",{staticClass:"lead"},[t._v("Description: "+t._s(t.bug.description))]),1==t.bug.closed?s("p",{staticClass:"text-muted"},[t._v("Bug Closed")]):t._e(),t.bug.closed?t._e():s("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.bugStatus(t.bug)}}},[t._v("Mark as Complete")])])])]):s("div",{staticClass:"spinner-border text-primary",attrs:{role:"status"}},[t._m(0)])]),s("div",{staticClass:"col-6"},[s("div",{staticClass:"commentForm"},[1==t.bug.closed?s("h3",{staticClass:"text-muted"},[t._v("Bug Closed; commenting disabled")]):s("form",{staticClass:"submitComment",on:{submit:function(e){return e.preventDefault(),t.submitComment(t.comment,t.bug)}}},[s("h3",[t._v("Submit New Comment")]),t._v("User\n          "),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.creator,expression:"comment.creator"}],attrs:{type:"text",name:"name"},domProps:{value:t.comment.creator},on:{input:function(e){e.target.composing||t.$set(t.comment,"creator",e.target.value)}}})]),t._v("\n          Comment\n          "),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.comment.content,expression:"comment.content"}],attrs:{type:"text",name:"comment"},domProps:{value:t.comment.content},on:{input:function(e){e.target.composing||t.$set(t.comment,"content",e.target.value)}}})]),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])])]),s("div",{staticClass:"commentSection"},[s("h1",{staticClass:"commentsHeader"},[t._v("Comments")]),s("hr",{staticClass:"commentDivider"}),t._l(t.bugComments,function(e){return s("ul",{key:e._id,staticClass:"list-group"},[s("li",{staticClass:"list-group-item"},[t._v("\n            User: "+t._s(e.creator)+"\n            "),s("br"),t._v("\n            Description: "+t._s(e.content)+"\n            "),s("br"),s("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(s){t.deleteNote(e,t.bug),t.disabled=!0}}},[t._v("Delete Note")])])])})],2)])])])},B=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],S={name:"DetailsPage",mounted(){this.$store.dispatch("getComments",this.$route.params.id),this.$store.dispatch("getBugbyID",this.$route.params.id),setTimeout(()=>{this.bug._id||this.$router.push({name:"home"})},3e3)},props:[],data(){return{comment:{content:"",bug:this.$route.params.id,creator:"",user:"",flagged:"pending"}}},computed:{bug(){return this.$store.state.bug},comments(){return this.$store.state.comments},bugComments(){return this.$store.state.bugComments},bugStatus(){return this.$store.state.bug.closed}},methods:{submitComment(t,e){this.$store.dispatch("submitComment",t),this.$store.dispatch("getComments",this.$route.params.id)},deleteNote(t,e){this.$store.dispatch("deleteCommentByID",t,e),this.$store.dispatch("getComments",this.$route.params.id)},bugStatus(t){this.$store.dispatch("bugCompleted",t)}},components:{}},x=S,D=(s("d8f2"),Object(r["a"])(x,w,B,!1,null,"3bdb658c",null)),P=D.exports;n["a"].use(l["a"]);var O=new l["a"]({routes:[{path:"/",name:"home",component:$},{path:"/bugs/bugDetails/:id",name:"bugDetails",component:P}]}),j=s("2f62"),k=s("bc3a"),N=s.n(k);let T=N.a.create({baseURL:"https://bcw-sandbox.herokuapp.com/api/KellyP/bugs"});n["a"].use(j["a"]);var E=new j["a"].Store({state:{bug:[],bugs:[],bugStatus:!1,comments:[],bugComments:[]},mutations:{postBug(t,e={}){t.bugs=e},getBugs(t,e=[]){t.bugs=e},getBug(t,e=[]){t.bug=e},postComments(t,e=[]){t.comments=e},setComments(t,e=[]){t.bugComments=e},setBugStatus(t,e){t.bugStatus=e}},actions:{submitBug({commit:t,dispatch:e,state:s},n){try{T.post("",n),e("getBugs")}catch(a){console.error(a)}},async getBugs({commit:t}){try{let s=await T.get("");t("getBugs",s.data.results)}catch(e){console.error(e)}},async getBugbyID({commit:t},e){try{let n=await T.get(e);t("getBug",n.data.results)}catch(s){console.error(s)}},async clearBug({commit:t}){t("getBug",{})},async submitComment({commit:t,dispatch:e},s){try{await T.post("/"+s.bug+"/notes",s);e("getComments",s.bug)}catch(n){console.error(n)}},async getComments({commit:t,dispatch:e},s){try{let e=await T.get("/"+s+"/notes");t("setComments",e.data.results)}catch(n){console.error(n)}},async bugCompleted({commit:t,dispatch:e},s){await T.delete(s._id);t("setBugStatus",s.closed),e("getBugs")},async deleteCommentByID({commit:t,dispatch:e},s,n){await T.delete("/"+s.bug+"/notes/"+s._id);e("getComments",s.bug)},catch(t){console.error(t)}}});n["a"].config.productionTip=!1,new n["a"]({router:O,store:E,render:function(t){return t(c)}}).$mount("#app")},"64a9":function(t,e,s){},bee0:function(t,e,s){},c81e:function(t,e,s){"use strict";var n=s("342b"),a=s.n(n);a.a},d8f2:function(t,e,s){"use strict";var n=s("bee0"),a=s.n(n);a.a}});
//# sourceMappingURL=app.77e7bd12.js.map